import*as r from"@angular/core";import{ViewEncapsulation as S,RendererFactory2 as w,NgZone as T,ANIMATION_MODULE_TYPE as I}from"@angular/core";import{ANIMATION_MODULE_TYPE as ae}from"@angular/core";import{\u0275DomRendererFactory2 as O,BrowserModule as D}from"@angular/platform-browser";import{AnimationBuilder as v,sequence as j,AnimationFactory as k}from"@angular/animations";import*as h from"@angular/animations/browser";import{\u0275AnimationEngine as f,\u0275WebAnimationsStyleNormalizer as F,\u0275AnimationStyleNormalizer as P,AnimationDriver as b,\u0275WebAnimationsDriver as x,\u0275NoopAnimationDriver as B}from"@angular/animations/browser";import{DOCUMENT as N}from"@angular/common";var z=(()=>{class n extends v{constructor(e,i){super(),this._nextAnimationId=0;let s={id:"0",encapsulation:S.None,styles:[],data:{animation:[]}};this._renderer=e.createRenderer(i.body,s)}build(e){let i=this._nextAnimationId.toString();this._nextAnimationId++;let s=Array.isArray(e)?j(e):e;return M(this._renderer,null,i,"register",[s]),new g(i,this._renderer)}static{this.\u0275fac=function(i){return new(i||n)(r.\u0275\u0275inject(r.RendererFactory2),r.\u0275\u0275inject(N))}}static{this.\u0275prov=r.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac})}}return n})(),g=class extends k{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new p(this._id,t,e||{},this._renderer)}},p=class{constructor(t,e,i,s){this.id=t,this.element=e,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return M(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}};function M(n,t,e,i,s){return n.setProperty(t,`@@${e}:${i}`,s)}var u="@",R="@.disabled",V=(()=>{class n{constructor(e,i,s){this.delegate=e,this.engine=i,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,d)=>{let a=d?.parentNode(o);a&&d.removeChild(a,o)}}createRenderer(e,i){let s="",o=this.delegate.createRenderer(e,i);if(!e||!i||!i.data||!i.data.animation){let c=this._rendererCache.get(o);if(!c){let E=()=>this._rendererCache.delete(o);c=new m(s,o,this.engine,E),this._rendererCache.set(o,c)}return c}let d=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);let l=c=>{Array.isArray(c)?c.forEach(l):this.engine.registerTrigger(d,a,e,c.name,c)};return i.data.animation.forEach(l),new _(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,s){if(e>=0&&e<this._microtaskId){this._zone.run(()=>i(s));return}this._animationCallbacksBuffer.length==0&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{let[d,a]=o;d(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,s])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(i){return new(i||n)(r.\u0275\u0275inject(r.RendererFactory2),r.\u0275\u0275inject(h.\u0275AnimationEngine),r.\u0275\u0275inject(r.NgZone))}}static{this.\u0275prov=r.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac})}}return n})(),m=class{constructor(t,e,i,s){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=s}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,s=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,s){this.delegate.setAttribute(t,e,i,s)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,s){this.delegate.setStyle(t,e,i,s)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){e.charAt(0)==u&&e==R?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},_=class extends m{constructor(t,e,i,s,o){super(e,i,s,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){e.charAt(0)==u?e.charAt(1)=="."&&e==R?(i=i===void 0?!0:!!i,this.disableAnimations(t,i)):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if(e.charAt(0)==u){let s=L(t),o=e.slice(1),d="";return o.charAt(0)!=u&&([o,d]=q(o)),this.engine.listen(this.namespaceId,s,o,d,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,i,a)})}return this.delegate.listen(t,e,i)}};function L(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function q(n){let t=n.indexOf("."),e=n.substring(0,t),i=n.slice(t+1);return[e,i]}var W=(()=>{class n extends f{constructor(e,i,s,o){super(e.body,i,s)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||n)(r.\u0275\u0275inject(N),r.\u0275\u0275inject(h.AnimationDriver),r.\u0275\u0275inject(h.\u0275AnimationStyleNormalizer),r.\u0275\u0275inject(r.ApplicationRef))}}static{this.\u0275prov=r.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac})}}return n})();function $(){return new F}function U(n,t,e){return new V(n,t,e)}var C=[{provide:v,useClass:z},{provide:P,useFactory:$},{provide:f,useClass:W},{provide:w,useFactory:U,deps:[O,f,T]}],y=[{provide:b,useFactory:()=>new x},{provide:I,useValue:"BrowserAnimations"},...C],A=[{provide:b,useClass:B},{provide:I,useValue:"NoopAnimations"},...C],te=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?A:y}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=r.\u0275\u0275defineNgModule({type:n})}static{this.\u0275inj=r.\u0275\u0275defineInjector({providers:y,imports:[D]})}}return n})();function ie(){return[...y]}var ne=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=r.\u0275\u0275defineNgModule({type:n})}static{this.\u0275inj=r.\u0275\u0275defineInjector({providers:A,imports:[D]})}}return n})();function se(){return[...A]}export{ae as ANIMATION_MODULE_TYPE,te as BrowserAnimationsModule,ne as NoopAnimationsModule,ie as provideAnimations,se as provideNoopAnimations,_ as \u0275AnimationRenderer,V as \u0275AnimationRendererFactory,z as \u0275BrowserAnimationBuilder,g as \u0275BrowserAnimationFactory,W as \u0275InjectableAnimationEngine};
/*! Bundled license information:

@angular/platform-browser/fesm2022/animations.mjs:
  (**
   * @license Angular v16.2.12
   * (c) 2010-2022 Google LLC. https://angular.io/
   * License: MIT
   *)
*/
